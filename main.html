<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIBRARTE</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet" />
    <!-- <link rel="stylesheet" href="./assets/styles/styles.css" /> -->
    <script defer src="https://unpkg.com/alpinejs@3.2.2/dist/cdn.min.js"></script>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/search.css">
</head>

<body class="">

<nav class="bg-emerald-300 rounded-lg">

  <div class="flex justify-end m-4 px-5 md:order-2">
    <button type="button" class="flex mr-3 text-sm bg-gray-800 rounded-full md:mr-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600" id="user-menu-button" aria-expanded="false" data-dropdown-toggle="user-dropdown" data-dropdown-placement="bottom">
      <span class="sr-only">Open user menu</span>
      <svg class="rounded-full w-8 h-8 text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>
    </button>
    <!-- Dropdown menu -->
    <div class="z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600" id="user-dropdown">
      <div class="px-4 py-3">
        <span class="block text-sm text-gray-900 dark:text-white"> <span id="nombreUsuario"></span></span>
        <span class="block text-sm text-gray-500 truncate dark:text-gray-400"> <span id="correoUsuario"></span></span>
      </div>
        <ul class="py-2" aria-labelledby="user-menu-button">
          <li class="flex flex-grow items-center justify-center">
            <a href="#" 
              class="flex ml-2 justify-center"
              type="button" data-drawer-target="drawer-swipe" data-drawer-show="drawer-swipe" data-drawer-placement="bottom" data-drawer-edge="true" data-drawer-edge-offset="bottom-[60px]" aria-controls="drawer-swipe"
            >
              <span class="[&>svg]:w-5 order-last ">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-8 w-8 ml-5">
                  <path d="M2.25 2.25a.75.75 0 000 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 00-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 000-1.5H5.378A2.25 2.25 0 017.5 15h11.218a.75.75 0 00.674-.421 60.358 60.358 0 002.96-7.228.75.75 0 00-.525-.965A60.864 60.864 0 005.68 4.509l-.232-.867A1.875 1.875 0 003.636 2.25H2.25zM3.75 20.25a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM16.5 20.25a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z" />
                </svg>
              </span>
              Carrito
            </a>
          </li>
          <li class="flex flex-grow items-center justify-center">
            <a href="#" class="block self-center px-4 py-2 "
            type="button" 
            data-drawer-target="drawer-left-example" 
            data-drawer-show="drawer-left-example" 
            data-drawer-placement="left" 
            aria-controls="drawer-left-example">Pedidos</a>
          </li>
        </ul>
    </div>
</div>

  <div class="pt-10">
  <h1 class="bg-clip-text text-center text-8xl font-bold tbg-gradient-to-r from-green-400 via-pink-500 to-purple-500">LIBRARTE</h1>
  </div>
  
  <!-- Tab Menu -->
  <div class=" flex flex-row justify-center">
    <div class=" p-12 w-full sm:max-w-2xl sm:mx-auto">
      <div class="overflow-hidden z-0 rounded-full relative p-3">
        <form role="form" class="relative flex z-50 bg-white rounded-full">
          <input type="text" id="buscar" placeholder="Introduce tu búsqueda" class="rounded-full flex-1 px-6 py-4 text-gray-700 border-none focus:outline-none">

          <button id="dropdownRadioButton" data-dropdown-toggle="dropdownDefaultRadio" class="text-white rounded-full bg-gradient-to-r from-green-700 to-blue-700 hover:from-pink-500 hover:to-yellow-500 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium text-sm px-4 py-2.5 text-center inline-flex items-center" type="button">
            Búsqueda por... 
          <svg class="w-2 h-2 ml-2" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button>

        <button id="btnSearch" class="btn rounded-lg px-4 py-4 inline-flex items-center text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300">
            <svg aria-hidden="true" class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            <span class="sr-only">Search</span>
        </button>

        </form>
        <div class="glow glow-1 z-20 bg-red-500 absolute"></div>
        <div class="glow glow-2 z-20 bg-green-500 absolute"></div>
        <div class="glow glow-3 z-20 bg-yellow-400 absolute"></div>
        <div class="glow glow-4 z-20 bg-purple-400 absolute"></div>
      </div>
    </div>
              <!-- Dropdown menu -->
              <div id="dropdownDefaultRadio" class="z-10 hidden w-48 bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600">
                <ul class="p-3 space-y-3 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownRadioButton">
                  <li>
                    <div class="flex items-center">
                        <input id="radioBtnAutor" type="radio" value="autor" name="default-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                        <label for="default-radio-1" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">Autor</label>
                    </div>
                  </li>
                  <li>
                    <div class="flex items-center">
                        <input checked id="radioBtnISBN" type="radio" value="isbn" name="default-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                        <label for="default-radio-2" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">ISBN</label>
                    </div>
                  </li>
                  <li>
                    <div class="flex items-center">
                        <input id="radioBtnTitulo" type="radio" value="titulo" name="default-radio" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500">
                        <label for="default-radio-3" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">Titulo</label>
                    </div>
                  </li>
                </ul>
              </div>
  </div>

</nav>
  
  <!-- Product List -->
  <section class="py-10 bg-cover bg-no-repeat bg-black" style="background-image: url('images/libreria1.jpeg');">

    <div class="mx-auto grid max-w-6xl grid-cols-1 gap-6 p-6 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"
    id="bookList">

     
      <div class="mb-6 lg:mb-0" id="">
        <div class="relative block bg-white rounded-lg shadow-lg">
          <div class="flex">
            <div
              class="relative overflow-hidden bg-no-repeat bg-cover relative overflow-hidden bg-no-repeat bg-cover shadow-lg rounded-lg mx-4 -mt-4 w-full"
              data-mdb-ripple="true" data-mdb-ripple-color="light">
              <img src="https://images.gr-assets.com/books/1361975680l/2657.jpg" class="w-full" />
              <a href="#!">
                <div
                  class="absolute  top-0 right-0 bottom-0 left-0 w-full h-full overflow-hidden bg-fixed opacity-0 hover:shadow-xl hover:transform hover:scale-105 duration-300 hover:opacity-100 transition duration-300 ease-in-out"
                  style="background-color: rgba(251, 251, 251, 0.15)"></div>
              </a>
            </div>
          </div>
          <div class="p-6 flex flex-col justify-items-center">
            <h5 class="text-lg self-center font-bold mb-2">Título</h5>
            <h6 class="font-medium self-center text-blue-600 mb-4">Autor</h6>
            <h6 class="font-thin self-center text-black mb-6">ISBN</h6>
            <span class="rounded-full m-2 px-2 py-3 self-center text-white badge bg-green-400 text-xs">
              $$$$
            </span>

            <div class="overflow-y-auto">

              <p class="text-justify h-14">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Dolores voluptatibus similique odit blanditiis accusantium, accusamus sed tempore quo magnam debitis provident. Possimus beatae labore fuga dolores doloribus, nisi voluptatibus ut!</p>

            </div>

            
            <div class="flex flex-col md:flex-row justify-center py-2 items-center text-gray-900">
              <button id="addToCartButton" class="px-6 py-2 transition ease-in duration-200 uppercase rounded-full hover:bg-blue-800 hover:text-white border-2 border-gray-900 focus:outline-none" onclick="addToCart()">
                Agregar al carrito
              </button>
              
            </div>

          </div>
        </div>
      </div>

  </section>


  <div id="drawer-swipe" class="fixed z-40 w-full h-3/4  overflow-y-clip md:overflow-y-auto-sm:overflow-y-auto lg:overflow-y-clip  bg-white border-t border-gray-200 rounded-t-lg dark:border-gray-700 dark:bg-gray-800 transition-transform bottom-0 left-0 right-0 translate-y-full bottom-[60px]" tabindex="1" aria-labelledby="drawer-swipe-label">


    <div class="p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700" data-drawer-toggle="drawer-swipe">
       <span class="absolute w-8 h-1 -translate-x-1/2 bg-gray-300 rounded-lg top-3 left-1/2 dark:bg-gray-600"></span>
       <h5 id="drawer-swipe-label" class="inline-flex items-center text-base text-gray-500 dark:text-gray-400">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
        </svg>
        
        Carrito
      </h5>
    </div>

    <div class="grid grid-cols-3 gap-4 p-4 lg:grid-cols-4">
      
      <!--Productos del pedido-->
       <div class="p-4  col-start-1 col-end-2 col-span-2 scroll-pl-6 rounded-lg bg-gray-50 h-full hover:bg-gray-100 dark:hover:bg-gray-600 dark:bg-gray-700">

       <div class="overflow-x-auto">

            <div class="flex flex-nowrap" id="cartProducts">

              
            </div>

       </div>

       </div>

       <!--Calcular el precio del pedido-->
       <div class="p-4 col-span-2 flex justify-center h-full">
      <div class="mt-6 rounded-lg border bg-white p-6  w-full shadow-md md:mt-0 md:w-1/3">
        <div class="overflow-y-auto h-1/2" id="cartProductsPrice">

        
        </div>


        <hr class="my-4" />


        <div class="flex flex-row  justify-between">
          <div>
            <div class="form-check">
              <input class="form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="radio" value="Envío Estándar" name="flexRadioDefault" id="flexRadioDefault1">
              <label class="form-check-label inline-block text-gray-800" for="flexRadioDefault1">
                Envío estándar
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer" type="radio" value="Envío de regalo" name="flexRadioDefault" id="flexRadioDefault2" checked>
              <label class="form-check-label inline-block text-gray-800" for="flexRadioDefault2">
                Envío de regalo
              </label>
            </div>
          </div>
        </div>

        <div class="flex justify-between">
          <p class="text-lg font-bold">Total</p>
          <div class="">
            <p class="mb-1 text-lg font-bold" id="totalPedido">$0 MXN</p>
            <p class="text-sm text-gray-700">incluye IVA</p>
          </div>
        </div>
        <button id="confirmarPedido" class="mt-6 w-full rounded-md bg-blue-500 py-1.5 font-medium text-blue-50 hover:bg-blue-600">Confirmar el  pedido</button>

        <div class="grid grid-cols-3 gap-4 place-items-center text-center w-full m-4">
          <div class="border-t-4 place-items-center border-gray-200 pt-4">
            <p class="uppercase text-gray-400 font-bold">Primer confirmación</p>
            <p class="font-semibold">Pedido en proceso</p>
          </div>
          <div class="border-t-4 place-items-center border-gray-200 pt-4">
            <p class="uppercase text-gray-400 font-bold">Espera</p>
            <div class="flex flex-wrap gap-4 justify-center items-center">
              <div class="border rounded-lg px-1 py-2">
                  <div id="minutes" class="font-bold font-mono text-sm text-gray-800"></div>
              </div>
              <div class="border rounded-lg px-1 py-2">
                  <div id="seconds" class="font-bold font-mono text-sm text-gray-800"></div>
              </div>
          </div>
          </div>
          <div class="border-t-4 place-items-center border-gray-200 pt-4">
            <p class="uppercase text-gray-400 font-bold">Pedido enviado</p>
            <p class="font-semibold">Envío procesado</p>
          </div>
        </div>

      </div>
       </div>

    </div>
  </div>

  <div id="drawer-left-example" class="fixed top-0 left-0 z-40 h-screen p-4 overflow-y-auto transition-transform -translate-x-full bg-white w-80 dark:bg-gray-800" tabindex="-1" aria-labelledby="drawer-left-label">
    <h5 id="drawer-left-label" class="inline-flex items-center mb-4 text-base font-semibold text-gray-500 dark:text-gray-400"><svg class="w-5 h-5 mr-2" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>PEDIDOS DE USUARIO</h5>
   <button type="button" data-drawer-hide="drawer-left-example" aria-controls="drawer-left-example" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 absolute top-2.5 right-2.5 inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white" >
      <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
      <span class="sr-only">Close menu</span>
   </button>
   <p class="mb-6 text-sm text-gray-500 dark:text-gray-400">Listado de todos los pedidos solicitados por el usuario actual</p>
   <ul class="space-y-4 text-gray-500 list-disc list-inside dark:text-gray-400" id="pedidosCompletos">
    
   </ul>
</div>

<script>
  // Metodo que manda a traer datos del usuario y se muestra en el main principal
document.addEventListener("DOMContentLoaded", function() {
// Obtener el usuario almacenado en localStorage
var usuarioActual = localStorage.getItem("usuarioActual");
if (usuarioActual) {
  usuarioActual = JSON.parse(usuarioActual);
  document.getElementById("nombreUsuario").textContent = usuarioActual.userName;
  document.getElementById("correoUsuario").textContent = usuarioActual.email;
}
});
</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.js"></script>

  <script src="js/Search.js"></script>

  <!-- Incluir SweetAlert2 desde el CDN -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  function addToCart() {
    // Mostrar mensaje de confirmación
    Swal.fire({
      icon: 'success',
      title: 'Libro agregado al carrito',
      showConfirmButton: false,
      timer: 1500
    });
  }
</script>
<script>
// Set the date we're counting down to
var countDownDate = new Date().getTime() + 60000; // 1 minuto en milisegundos
// Update the countdown every 1 second
var x = setInterval(function() {
    // Get today's date and time
    var now = new Date().getTime();

    // Find the distance between now and the count down date
    var distance = countDownDate - now;

    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("minutes").textContent = minutes + "m";
    document.getElementById("seconds").textContent = seconds + "s";

    // If the count down is over, write some text 
    if (distance < 0) {
        clearInterval(x);
        document.getElementById("minutes").textContent = "0" + "m";
        document.getElementById("seconds").textContent = "0" + "s";
    }
}, 1000);
</script>
  

</body>
</html>